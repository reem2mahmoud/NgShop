<p-toast></p-toast>
<div class="admin-page">
  <p-card
    [header]="editMode ? 'Edit Category' : 'Add Category'"
    [subheader]="
      editMode ? 'You can edit this category' : 'You can add new category'
    "
  >
    <div class="p-grid mb-3">
      <div class="p-col-12">
        <p-toolbar>
          <div class="p-toolbar-group-left"></div>

          <div class="p-toolbar-group-right">
            <button
              pButton
              type="button"
              [label]="editMode ? 'Update' : 'Create'"
              [icon]="editMode ? 'pi pi-pencil' : 'pi pi-plus'"
              class="p-button-sm mr-1"
              (click)="createNewCategory()"
            ></button>
            <button
              pButton
              type="button"
              label="Cancel"
              icon="pi pi-times"
              (click)="cancel()"
              class="p-button-danger p-button-sm"
            ></button>
          </div>
        </p-toolbar>
      </div>
    </div>
    <form [formGroup]="categoryForm">
      <div class="formgrid grid">
        <div class="field col">
          <label for="cat_name">Name</label>
          <input
            id="cat_name"
            type="text"
            formControlName="name"
            class="text-base text-color surface-overlay p-2 border-1 border-solid surface-border border-round appearance-none outline-none focus:border-primary w-full"
          />
          <small class="p-error" *ngIf="formData['name'].invalid && btnClicked">
            Name is required</small
          >
        </div>
        <div class="field col">
          <label for="cat_icon">Icon</label>
          <input
            id="cat_icon"
            type="text"
            formControlName="icon"
            class="text-base text-color surface-overlay p-2 border-1 border-solid surface-border border-round appearance-none outline-none focus:border-primary w-full"
          />
          <small class="p-error" *ngIf="formData['icon'].invalid && btnClicked">
            Icon is required</small
          >
        </div>
        <div class="field col">
          <label>Color</label><br />
          <p-colorPicker formControlName="color"></p-colorPicker>
        </div>
      </div>
    </form>
  </p-card>
</div>
